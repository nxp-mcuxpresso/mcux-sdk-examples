/*! *********************************************************************************
 * \defgroup SHELL THRPUT
 * @{
 ********************************************************************************** */
/*! *********************************************************************************
* Copyright 2015 Freescale Semiconductor, Inc.
* Copyright 2016-2021, 2023 NXP
*
*
* \file
*
* This file is the interface file for the THRPUT Shell module
*
* SPDX-License-Identifier: BSD-3-Clause
********************************************************************************** */

#ifndef SHELL_THR_H
#define SHELL_THR_H

/*************************************************************************************
**************************************************************************************
* Public macros
**************************************************************************************
*************************************************************************************/

/************************************************************************************
*************************************************************************************
* Public type definitions
*************************************************************************************
************************************************************************************/
typedef struct thrStatistics_tag
{
    uint64_t firstPacketTs;
    uint64_t lastPacketTs;
    uint32_t notifRcv;
    uint32_t droppedPackets;
    uint32_t bytesRcv;
} thrStatistics_t;

/************************************************************************************
*************************************************************************************
* Public memory declarations
*************************************************************************************
********************************************************************************** */

/************************************************************************************
*************************************************************************************
* Public prototypes
*************************************************************************************
************************************************************************************/

#ifdef __cplusplus
extern "C" {
#endif

/*! *********************************************************************************
 * \brief  Signals that the MTU Exchange procedure has been completed.
 *
 * \remarks This function is executed in the context of the Application Task.
 *
 * \param[in]   serverDeviceId  Peer device ID
 ********************************************************************************** */
void ShellThr_MtuExchangeCallback(deviceId_t serverDeviceId);

/*! *********************************************************************************
 * \brief  Updates statistics. Restart the report timer
 *
 * \remarks This function is executed in the context of the Application Task.
 *
 * \param[in]   peerId  Peer device ID
 ********************************************************************************** */
void ShellThr_ProcessNotification(uint32_t len, deviceId_t peerId);

/*! *********************************************************************************
 * \brief        Throughput test command. Contains commands for setting up and
 *               running throughput test
 *
 * \param[in]    argc    shell argument count
 *
 * \param[in]    argv    shell argument value
 *
 * \return       -
 ********************************************************************************** */
shell_status_t ShellThrput_Command(shell_handle_t shellHandle, int32_t argc, char **argv);

/*! *********************************************************************************
 * \brief        Handles BLE generic callback.
 *
 * \param[in]    pGenericEvent    Pointer to gapGenericEvent_t.
 ********************************************************************************** */
void ShellThr_GenericCallback (gapGenericEvent_t* pGenericEvent);

#ifdef __cplusplus
}
#endif


#endif /* SHELL_THR_H */

/*! *********************************************************************************
 * @}
 ********************************************************************************** */
