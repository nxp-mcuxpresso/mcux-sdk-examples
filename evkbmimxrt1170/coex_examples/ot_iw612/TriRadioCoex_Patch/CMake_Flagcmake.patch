diff --git a/evkbmimxrt1170/coex_examples/coex_cli/cm7/armgcc/CMakeLists.txt b/evkbmimxrt1170/coex_examples/coex_cli/cm7/armgcc/CMakeLists.txt
--- a/evkbmimxrt1170/coex_examples/coex_cli/cm7/armgcc/CMakeLists.txt
+++ b/evkbmimxrt1170/coex_examples/coex_cli/cm7/armgcc/CMakeLists.txt
@@ -35,6 +35,7 @@ endif()
 SET(EXECUTABLE_OUTPUT_PATH ${ProjDirPath}/${CMAKE_BUILD_TYPE})
 SET(LIBRARY_OUTPUT_PATH ${ProjDirPath}/${CMAKE_BUILD_TYPE})
 
+SET(OT_NXP_PATH "${ProjDirPath}/../../../../../../../..")
 
 project(coex_cli_cm7)
 
@@ -67,6 +68,8 @@ add_executable(${MCUX_SDK_PROJECT_NAME}
 "${ProjDirPath}/../app.h"
 "${ProjDirPath}/../pin_mux.c"
 "${ProjDirPath}/../pin_mux.h"
+"${ProjDirPath}/../peripherals.c"
+"${ProjDirPath}/../peripherals.h"
 "${SdkRootDirPath}/examples/evkbmimxrt1170/coex_examples/coex_cli/appl/reference/cm7/FreeRTOSConfig.h"
 "${SdkRootDirPath}/examples/evkbmimxrt1170/coex_examples/coex_cli/appl/reference/cm7/appl_main.c"
 "${SdkRootDirPath}/examples/evkbmimxrt1170/coex_examples/coex_cli/appl/reference/cm7/appl_main.h"
@@ -949,6 +952,10 @@ add_executable(${MCUX_SDK_PROJECT_NAME}
 "${SdkRootDirPath}/middleware/wireless/ethermind/bluetooth/tools/resources/pbap/phonebook/root/telecom/spd/1.vcf"
 "${SdkRootDirPath}/middleware/wireless/ethermind/bluetooth/tools/resources/pbap/phonebook/root/telecom/spd/2.vcf"
 "${SdkRootDirPath}/middleware/wireless/ethermind/bluetooth/tools/resources/pbap/phonebook/root/telecom/spd/3.vcf"
+"${SdkRootDirPath}/core/components/spi/fsl_adapter_lpspi.c"
+"${SdkRootDirPath}/core/components/time_stamp/fsl_adapter_gpt_time_stamp.c"
+"${SdkRootDirPath}/core/drivers/lpspi/fsl_lpspi.c"
+"${SdkRootDirPath}/core/drivers/gpt/fsl_gpt.c"
 )
 
 target_include_directories(${MCUX_SDK_PROJECT_NAME} PRIVATE
@@ -1047,6 +1054,12 @@ target_include_directories(${MCUX_SDK_PROJECT_NAME} PRIVATE
     ${SdkRootDirPath}/middleware/wireless/ethermind/bluetooth/tools/resources/opp
     ${SdkRootDirPath}/middleware/wireless/ethermind/bluetooth/tools/resources/pan
     ${SdkRootDirPath}/middleware/wireless/ethermind/bluetooth/tools/resources/pbap
+	${SdkRootDirPath}/core/components/spi
+    ${SdkRootDirPath}/middleware/wireless/framework/FileSystem
+    ${SdkRootDirPath}/middleware/wireless/framework/platform/include
+    ${SdkRootDirPath}/middleware/wireless/framework/platform/imx_rt/configs
+    ${SdkRootDirPath}/core/drivers/lpspi
+    ${SdkRootDirPath}/core/drivers/gpt
 )
 
 set_source_files_properties("${ProjDirPath}/../app_config.h" PROPERTIES COMPONENT_CONFIG_FILE "middleware_wifi_template")
@@ -1194,6 +1207,30 @@ if(CMAKE_BUILD_TYPE STREQUAL flexspi_nor_release)
     target_link_libraries(${MCUX_SDK_PROJECT_NAME} PRIVATE ${SdkRootDirPath}/middleware/wireless/ethermind/bluetooth/private/lib/mcux/default/btdm/cm7f/gcc/libethermind_bt_a2dp.a)
 endif(CMAKE_BUILD_TYPE STREQUAL flexspi_nor_release)
 
+if ((CMAKE_BUILD_TYPE STREQUAL flexspi_nor_debug) OR (CMAKE_BUILD_TYPE STREQUAL flexspi_nor_release))
+    target_link_libraries(${MCUX_SDK_PROJECT_NAME} 
+        PRIVATE
+        ${OT_NXP_PATH}/build_rt1170/iwx12_spi/lib/libopenthread-platform-utils-static.a
+        ${OT_NXP_PATH}/build_rt1170/iwx12_spi/lib/libopenthread-radio-spinel.a
+        ${OT_NXP_PATH}/build_rt1170/iwx12_spi/lib/libopenthread-url.a
+        ${OT_NXP_PATH}/build_rt1170/iwx12_spi/lib/libopenthread-platform.a
+        ${OT_NXP_PATH}/build_rt1170/iwx12_spi/lib/libopenthread-ftd.a
+        ${OT_NXP_PATH}/build_rt1170/iwx12_spi/lib/libopenthread-spinel-rcp.a
+        ${OT_NXP_PATH}/build_rt1170/iwx12_spi/lib/libopenthread-cli-ftd.a
+        ${OT_NXP_PATH}/build_rt1170/iwx12_spi/lib/libtcplp-ftd.a
+        ${OT_NXP_PATH}/build_rt1170/iwx12_spi/lib/libopenthread-hdlc.a
+        ${OT_NXP_PATH}/build_rt1170/iwx12_spi/lib/libopenthread-rt1170.a
+        ${OT_NXP_PATH}/build_rt1170/iwx12_spi/lib/libconnfwk-FileSystem.a
+        ${OT_NXP_PATH}/build_rt1170/iwx12_spi/lib/libconnfwk-FunctionLib.a
+        ${OT_NXP_PATH}/build_rt1170/iwx12_spi/lib/libconnfwk-platform-imx_rt.a
+        ${OT_NXP_PATH}/build_rt1170/iwx12_spi/lib/libconnfwk-platform-rt1170.a
+        ${OT_NXP_PATH}/build_rt1170/iwx12_spi/lib/libot-cli-rt1170.a
+        ${OT_NXP_PATH}/build_rt1170/iwx12_spi/lib/libot-cli-addons.a
+        ${OT_NXP_PATH}/build_rt1170/iwx12_spi/lib/libnxp-lwip.a
+    )
+
+endif ()
+
 if(CMAKE_BUILD_TYPE STREQUAL flexspi_nor_release)
     target_link_libraries(${MCUX_SDK_PROJECT_NAME} PRIVATE ${SdkRootDirPath}/middleware/wireless/ethermind/bluetooth/private/lib/mcux/default/btdm/cm7f/gcc/libethermind_bt_avrcp.a)
 endif(CMAKE_BUILD_TYPE STREQUAL flexspi_nor_release)
diff --git a/evkbmimxrt1170/coex_examples/coex_cli/cm7/armgcc/flags.cmake b/evkbmimxrt1170/coex_examples/coex_cli/cm7/armgcc/flags.cmake
--- a/evkbmimxrt1170/coex_examples/coex_cli/cm7/armgcc/flags.cmake
+++ b/evkbmimxrt1170/coex_examples/coex_cli/cm7/armgcc/flags.cmake
@@ -15,6 +15,7 @@ SET(CMAKE_ASM_FLAGS_FLEXSPI_NOR_DEBUG " \
     -D__STARTUP_CLEAR_BSS \
     -DDEBUG \
     -D__STARTUP_INITIALIZE_NONCACHEDATA \
+	-D__STARTUP_INITIALIZE_RAMFUNCTION  \
     -mcpu=cortex-m7 \
     -mthumb \
     ${FPU} \
@@ -24,6 +25,7 @@ SET(CMAKE_ASM_FLAGS_FLEXSPI_NOR_RELEASE " \
     -D__STARTUP_CLEAR_BSS \
     -DNDEBUG \
     -D__STARTUP_INITIALIZE_NONCACHEDATA \
+	-D__STARTUP_INITIALIZE_RAMFUNCTION  \
     -mcpu=cortex-m7 \
     -mthumb \
     ${FPU} \
@@ -69,6 +71,12 @@ SET(CMAKE_C_FLAGS_FLEXSPI_NOR_DEBUG " \
     -DBT_GAM \
     -DLEAUDIO \
     -DUSE_RTOS=1 \
+	-DOSA_USED=1 \
+    -DCONFIG_OT_CLI_IW612=1 \
+    -DDSERIAL_MANAGER_TASK_STACK_SIZE=4048 \
+    -DFSL_RTOS_FREE_RTOS \
+    -DLFS_CONFIG=fwk_lfs_config.h \
+    -DLFS_THREADSAFE=1 \
     -DPRINTF_ADVANCED_ENABLE=1 \
     -DSDK_OS_FREE_RTOS \
     -DFSL_OSA_TASK_ENABLE=1 \
@@ -83,6 +91,7 @@ SET(CMAKE_C_FLAGS_FLEXSPI_NOR_DEBUG " \
     -DMCUXPRESSO_SDK \
     -DSERIAL_PORT_TYPE_UART=1 \
     -DSDK_I2C_BASED_COMPONENT_USED=1 \
+	-DI2C_RETRY_TIMES=40000 \
     -DBOARD_USE_CODEC=1 \
     -DCODEC_WM8962_ENABLE \
     -DLWIP_DISABLE_PBUF_POOL_SIZE_SANITY_CHECKS=1 \
@@ -157,6 +166,12 @@ SET(CMAKE_C_FLAGS_FLEXSPI_NOR_RELEASE " \
     -DBT_GAM \
     -DLEAUDIO \
     -DUSE_RTOS=1 \
+	-DOSA_USED=1 \
+    -DCONFIG_OT_CLI_IW612=1 \
+    -DDSERIAL_MANAGER_TASK_STACK_SIZE=4048 \
+    -DFSL_RTOS_FREE_RTOS \
+    -DLFS_CONFIG=fwk_lfs_config.h \
+    -DLFS_THREADSAFE=1 \
     -DPRINTF_ADVANCED_ENABLE=1 \
     -DSDK_OS_FREE_RTOS \
     -DFSL_OSA_TASK_ENABLE=1 \
@@ -171,6 +186,7 @@ SET(CMAKE_C_FLAGS_FLEXSPI_NOR_RELEASE " \
     -DMCUXPRESSO_SDK \
     -DSERIAL_PORT_TYPE_UART=1 \
     -DSDK_I2C_BASED_COMPONENT_USED=1 \
+	-DI2C_RETRY_TIMES=40000 \
     -DBOARD_USE_CODEC=1 \
     -DCODEC_WM8962_ENABLE \
     -DLWIP_DISABLE_PBUF_POOL_SIZE_SANITY_CHECKS=1 \
